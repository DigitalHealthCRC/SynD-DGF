<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Impact Assessment - SynD-DGF</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- SynD-DGF Unified Design System - Forest Canopy Theme -->
    <link rel="stylesheet" href="../assets/css/synd-design-system.css">
<link rel="stylesheet" href="../assets/css/synd-additional-components.css">

    <!-- Assessment Carousel Component CSS -->
    <link rel="stylesheet" href="../assets/css/assessment-carousel.css">

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #2A324B;">
        <div class="container">
            <a class="navbar-brand" href="../index.html">SynD-DGF</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <div class="navbar-nav ms-auto">
                    <a class="nav-link" href="../index.html">Home</a>
                    <a class="nav-link" href="../framework.html">Framework</a>
                    <a class="nav-link active" href="../assessment-tools.html">Assessment Tools</a>
                    <a class="nav-link" href="../decision-support.html">Decision Support</a>
                    <a class="nav-link" href="../resources.html">Resources</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Breadcrumb -->
    <div class="container mt-4">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="../index.html">Home</a></li>
                <li class="breadcrumb-item"><a href="../assessment-tools.html">Assessment Tools</a></li>
                <li class="breadcrumb-item active" aria-current="page">Impact Assessment</li>
            </ol>
        </nav>
    </div>

    <div class="container my-5">
        <!-- Page Header -->
        <div class="text-center mb-5">
            <h1 class="display-5 mb-3" style="color: #2d4a2b;">Impact assessment</h1>
            <p class="lead text-muted">Evaluate the broader ethical, social, and cultural implications of your synthetic health data project</p>
            <div class="alert alert-info mx-auto" style="max-width: 800px;">
                <strong>Important:</strong> This mandatory assessment must identify and address all potential negative impacts before your project can proceed. Failure to adequately consider any section may prevent project approval.
            </div>
        </div>

        <!-- Carousel Container -->
        <div id="carouselContainer" class="mb-5"></div>

        <!-- Assessment Resources -->
        <div class="assessment-resources mt-5 pt-5 border-top">
            <h2 class="h3 mb-4" style="color: #2d4a2b;">Assessment resources</h2>
            <div class="row g-4">
                <div class="col-md-6">
                    <div class="card h-100 border-0 shadow-sm">
                        <div class="card-body">
                            <h3 class="h5 card-title" style="color: #2d4a2b;">Indigenous data governance</h3>
                            <p class="card-text text-muted">Guidance on Indigenous data sovereignty and community engagement requirements.</p>
                            <a href="../resources/appendices/impact-assessment.html" class="btn btn-modern-primary">View Guidance</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card h-100 border-0 shadow-sm">
                        <div class="card-body">
                            <h3 class="h5 card-title" style="color: #2d4a2b;">Ethics frameworks</h3>
                            <p class="card-text text-muted">Detailed ethical considerations for health data research and synthetic data generation.</p>
                            <a href="../resources/appendices/policy-legal-framework.html" class="btn btn-modern-primary">View Frameworks</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step Navigation -->
        <div class="step-navigation">
            <div class="nav-buttons">
                <a href="use-case-checklist.html" class="nav-button nav-previous">← Use Case Checklist</a>
                <a href="../assessment-tools.html" class="nav-button nav-next">Back to Assessment Tools →</a>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Assessment Carousel Component -->
    <script src="../assets/js/assessment-carousel.js"></script>

    <!-- Impact Assessment Configuration -->
    <script>
        // Initialize Impact Assessment Carousel
        document.addEventListener('DOMContentLoaded', function() {
            const impactAssessment = new AssessmentCarousel({
                containerId: 'carouselContainer',
                storageKey: 'impact-assessment-progress',
                autoSave: true,
                steps: [
                    {
                        title: 'Data ethics considerations',
                        description: 'Evaluate the ethical implications of your synthetic data project across key principles of responsible data use.',
                        questions: [
                            {
                                id: 'source-bias',
                                type: 'radio',
                                label: 'Does your source data contain known biases or systematic exclusions that could perpetuate unfair outcomes?',
                                required: true,
                                options: [
                                    { value: 'no-bias', label: 'No known biases or systematic exclusions' },
                                    { value: 'minor-bias', label: 'Minor biases that can be addressed through synthetic data generation' },
                                    { value: 'significant-bias', label: 'Significant biases that require special consideration' },
                                    { value: 'unknown', label: 'Bias status unknown, requires further investigation' }
                                ]
                            },
                            {
                                id: 'bias-description',
                                type: 'textarea',
                                label: 'Describe any known biases and how they will be addressed',
                                placeholder: 'Detail the nature of biases in your source data and your mitigation strategy...',
                                rows: 3,
                                required: false
                            },
                            {
                                id: 'fairness-measures',
                                type: 'checkbox',
                                label: 'How will you ensure synthetic data generation algorithms don\'t introduce or amplify discrimination?',
                                required: true,
                                options: [
                                    { value: 'testing', label: 'Regular testing for discriminatory outcomes across demographic groups' },
                                    { value: 'validation', label: 'Validation of synthetic data against fairness metrics' },
                                    { value: 'monitoring', label: 'Ongoing monitoring of algorithm performance for bias' },
                                    { value: 'adjustment', label: 'Adjustment methods to correct for identified biases' },
                                    { value: 'review', label: 'Regular review by diverse stakeholders' }
                                ]
                            },
                            {
                                id: 'transparency-measures',
                                type: 'checkbox',
                                label: 'How will you ensure appropriate transparency about your synthetic data generation methods?',
                                required: true,
                                options: [
                                    { value: 'documentation', label: 'Comprehensive documentation of methods and parameters' },
                                    { value: 'publication', label: 'Publication of methodological approach in appropriate venues' },
                                    { value: 'stakeholder-briefing', label: 'Regular briefings to key stakeholders and oversight bodies' },
                                    { value: 'audit-trail', label: 'Maintaining detailed audit trails of all processing steps' },
                                    { value: 'external-review', label: 'External technical review of methods by independent experts' }
                                ]
                            },
                            {
                                id: 'accountability-measures',
                                type: 'checkbox',
                                label: 'What accountability measures will be in place for your project?',
                                required: true,
                                options: [
                                    { value: 'governance', label: 'Clear governance structure with defined roles and responsibilities' },
                                    { value: 'oversight', label: 'Independent oversight or advisory committee' },
                                    { value: 'complaint', label: 'Formal complaint or feedback mechanism for concerns' },
                                    { value: 'incident', label: 'Incident response procedures for data breaches or misuse' },
                                    { value: 'audit', label: 'Regular auditing of compliance with governance framework' }
                                ]
                            },
                            {
                                id: 'proportionality-assessment',
                                type: 'textarea',
                                label: 'Assess whether the privacy intrusion and data use is proportionate to the expected public benefit',
                                placeholder: 'Explain how the privacy implications of your project are proportionate to the expected benefits for health consumers and the health system...',
                                rows: 4,
                                required: true
                            },
                            {
                                id: 'proportionality-conclusion',
                                type: 'radio',
                                label: 'Proportionality conclusion',
                                required: true,
                                options: [
                                    { value: 'proportionate', label: 'The privacy implications are proportionate to the public benefits' },
                                    { value: 'questionable', label: 'Proportionality is questionable and requires additional safeguards' },
                                    { value: 'disproportionate', label: 'The privacy implications appear disproportionate to the benefits' }
                                ]
                            },
                            {
                                id: 'misuse-scenarios',
                                type: 'checkbox',
                                label: 'Identify potential misuse scenarios',
                                required: true,
                                options: [
                                    { value: 'commercial', label: 'Inappropriate commercial use beyond public benefit purposes' },
                                    { value: 'discrimination', label: 'Use for discriminatory profiling or decision-making' },
                                    { value: 'surveillance', label: 'Expansion into surveillance or monitoring applications' },
                                    { value: 'reidentification', label: 'Attempts to re-identify individuals through data linkage' },
                                    { value: 'unauthorised', label: 'Unauthorised sharing or distribution of synthetic data' },
                                    { value: 'other', label: 'Other potential misuse' }
                                ]
                            },
                            {
                                id: 'risk-mitigation',
                                type: 'textarea',
                                label: 'How will you prevent or mitigate these misuse risks?',
                                placeholder: 'Describe specific measures to prevent misuse and unintended consequences...',
                                rows: 4,
                                required: true
                            }
                        ]
                    },
                    {
                        title: 'Indigenous data sovereignty',
                        description: 'Special considerations when source data includes information about Aboriginal and Torres Strait Islander peoples.',
                        questions: [
                            {
                                id: 'indigenous-data',
                                type: 'radio',
                                label: 'Does your source data include information about Aboriginal and Torres Strait Islander peoples?',
                                required: true,
                                options: [
                                    { value: 'no', label: 'No, our source data does not include Indigenous health information' },
                                    { value: 'yes', label: 'Yes, our source data includes Indigenous health information' },
                                    { value: 'unknown', label: 'Unknown, requires investigation to determine' },
                                    { value: 'potential', label: 'Potentially, through general population datasets' }
                                ]
                            },
                            {
                                id: 'indigenous-rights',
                                type: 'checkbox',
                                label: 'How are you recognising Indigenous peoples\' rights to control data about their communities? (Select if applicable)',
                                required: false,
                                options: [
                                    { value: 'consultation', label: 'Consultation with relevant Aboriginal Community Controlled Health Organisations (ACCHOs)' },
                                    { value: 'governance', label: 'Following established Indigenous data governance frameworks (e.g., Maiam nayri Wingara)' },
                                    { value: 'community-benefit', label: 'Ensuring community benefit and not just public benefit' },
                                    { value: 'cultural-protocols', label: 'Respecting cultural protocols and sensitivities' },
                                    { value: 'control', label: 'Providing mechanisms for Indigenous community control over data use' }
                                ]
                            },
                            {
                                id: 'indigenous-engagement',
                                type: 'textarea',
                                label: 'Describe your engagement with Indigenous communities and organisations (if applicable)',
                                placeholder: 'Detail your consultation process, community representatives involved, and outcomes of engagement...',
                                rows: 4,
                                required: false
                            },
                            {
                                id: 'engagement-status',
                                type: 'radio',
                                label: 'What is the status of your community engagement? (Select if applicable)',
                                required: false,
                                options: [
                                    { value: 'completed', label: 'Completed with community support for the project' },
                                    { value: 'ongoing', label: 'Ongoing with positive initial feedback' },
                                    { value: 'planned', label: 'Planned but not yet commenced' },
                                    { value: 'concerns', label: 'Concerns raised requiring further consultation' },
                                    { value: 'opposition', label: 'Community opposition to the project' },
                                    { value: 'n/a', label: 'Not applicable' }
                                ]
                            },
                            {
                                id: 'cultural-considerations',
                                type: 'textarea',
                                label: 'What specific cultural sensitivities or considerations apply to your project? (if applicable)',
                                placeholder: 'Describe cultural factors, sacred or sensitive information, ceremonial restrictions, or other considerations...',
                                rows: 3,
                                required: false
                            },
                            {
                                id: 'cultural-mitigation',
                                type: 'textarea',
                                label: 'How are you addressing these cultural considerations in your synthetic data approach? (if applicable)',
                                placeholder: 'Explain how synthetic data generation methods account for cultural sensitivities...',
                                rows: 3,
                                required: false
                            },
                            {
                                id: 'indigenous-assessment',
                                type: 'radio',
                                label: 'Indigenous data sovereignty assessment',
                                required: true,
                                options: [
                                    { value: 'compliant', label: 'Indigenous data sovereignty requirements fully addressed' },
                                    { value: 'partial', label: 'Partial compliance, additional work required' },
                                    { value: 'non-compliant', label: 'Requirements not adequately addressed' },
                                    { value: 'not-applicable', label: 'Not applicable (no Indigenous data involved)' }
                                ]
                            }
                        ]
                    },
                    {
                        title: 'Community and stakeholder impacts',
                        description: 'Assess the broader impacts on communities, stakeholders, and society.',
                        questions: [
                            {
                                id: 'positive-impacts',
                                type: 'checkbox',
                                label: 'How might your project positively affect community trust in health data systems?',
                                required: false,
                                options: [
                                    { value: 'transparency', label: 'Increased transparency about data use for public benefit' },
                                    { value: 'privacy-protection', label: 'Demonstration of strong privacy protection measures' },
                                    { value: 'community-benefit', label: 'Clear community benefits from research outcomes' },
                                    { value: 'innovation', label: 'Innovation in privacy-preserving health research' },
                                    { value: 'engagement', label: 'Improved community engagement in health data governance' }
                                ]
                            },
                            {
                                id: 'negative-impacts',
                                type: 'checkbox',
                                label: 'What potential negative impacts on community trust should you consider?',
                                required: false,
                                options: [
                                    { value: 'mistrust', label: 'Increased mistrust or concerns about data use' },
                                    { value: 'confusion', label: 'Confusion about synthetic data and privacy implications' },
                                    { value: 'consent', label: 'Questions about adequacy of existing consent processes' },
                                    { value: 'slippery-slope', label: 'Concerns about expanding uses of health data' },
                                    { value: 'exclusion', label: 'Feelings of exclusion from data governance decisions' }
                                ]
                            },
                            {
                                id: 'community-monitoring',
                                type: 'textarea',
                                label: 'How will you monitor and address community concerns?',
                                placeholder: 'Describe your approach to ongoing community engagement and concern resolution...',
                                rows: 3,
                                required: true
                            },
                            {
                                id: 'vulnerable-groups',
                                type: 'checkbox',
                                label: 'Which vulnerable or marginalised groups may be disproportionately affected?',
                                required: false,
                                options: [
                                    { value: 'indigenous', label: 'Aboriginal and Torres Strait Islander peoples' },
                                    { value: 'elderly', label: 'Elderly or aged care populations' },
                                    { value: 'mental-health', label: 'People with mental health conditions' },
                                    { value: 'disability', label: 'People with disabilities' },
                                    { value: 'children', label: 'Children and adolescents' },
                                    { value: 'socioeconomic', label: 'People from low socioeconomic backgrounds' },
                                    { value: 'rural-remote', label: 'Rural and remote communities' },
                                    { value: 'culturally-diverse', label: 'Culturally and linguistically diverse communities' },
                                    { value: 'other', label: 'Other vulnerable groups' }
                                ]
                            },
                            {
                                id: 'vulnerability-protection',
                                type: 'textarea',
                                label: 'What additional measures will protect vulnerable populations?',
                                placeholder: 'Describe specific safeguards, consultation processes, or additional protections for vulnerable groups...',
                                rows: 4,
                                required: true
                            },
                            {
                                id: 'societal-benefits',
                                type: 'textarea',
                                label: 'Describe the expected societal benefits',
                                placeholder: 'Describe the broader societal benefits beyond immediate health outcomes...',
                                rows: 3,
                                required: true
                            },
                            {
                                id: 'societal-risks',
                                type: 'textarea',
                                label: 'Identify potential societal risks',
                                placeholder: 'Identify potential negative societal consequences or unintended effects...',
                                rows: 3,
                                required: true
                            },
                            {
                                id: 'risk-benefit-balance',
                                type: 'radio',
                                label: 'Risk-benefit balance assessment',
                                required: true,
                                options: [
                                    { value: 'strongly-positive', label: 'Societal benefits clearly outweigh risks' },
                                    { value: 'positive', label: 'Benefits likely outweigh risks with proper safeguards' },
                                    { value: 'neutral', label: 'Benefits and risks are roughly balanced' },
                                    { value: 'negative', label: 'Risks may outweigh benefits' }
                                ]
                            },
                            {
                                id: 'stakeholder-groups',
                                type: 'checkbox',
                                label: 'Which stakeholder groups require ongoing engagement?',
                                required: true,
                                options: [
                                    { value: 'patients', label: 'Patients and consumer representatives' },
                                    { value: 'clinicians', label: 'Healthcare providers and clinicians' },
                                    { value: 'researchers', label: 'Research and academic community' },
                                    { value: 'regulators', label: 'Regulatory and oversight bodies' },
                                    { value: 'indigenous', label: 'Indigenous community organisations' },
                                    { value: 'advocacy', label: 'Patient advocacy and community groups' },
                                    { value: 'industry', label: 'Health technology and industry partners' },
                                    { value: 'ethics', label: 'Ethics committees and review boards' }
                                ]
                            },
                            {
                                id: 'engagement-approach',
                                type: 'textarea',
                                label: 'Describe your ongoing stakeholder engagement strategy',
                                placeholder: 'Detail your approach to maintaining ongoing communication and engagement with key stakeholders...',
                                rows: 4,
                                required: true
                            }
                        ]
                    },
                    {
                        title: 'Overall impact assessment',
                        description: 'Summarise your findings and provide a comprehensive conclusion.',
                        questions: [
                            {
                                id: 'impact-summary',
                                type: 'textarea',
                                label: 'Summary of key findings',
                                placeholder: 'Provide a comprehensive summary of the main ethical, cultural, and social considerations identified...',
                                rows: 5,
                                required: true
                            },
                            {
                                id: 'mitigation-plan',
                                type: 'textarea',
                                label: 'Risk mitigation and management plan',
                                placeholder: 'Outline your comprehensive plan for managing and mitigating identified risks...',
                                rows: 5,
                                required: true
                            },
                            {
                                id: 'impact-conclusion',
                                type: 'radio',
                                label: 'Impact assessment conclusion',
                                required: true,
                                options: [
                                    { value: 'approved', label: 'All impacts adequately considered and mitigated - project can proceed' },
                                    { value: 'conditional', label: 'Project can proceed with additional safeguards and monitoring' },
                                    { value: 'revision', label: 'Significant concerns identified - project requires revision' },
                                    { value: 'rejected', label: 'Unacceptable risks or impacts - project should not proceed' }
                                ]
                            }
                        ]
                    }
                ],
                onComplete: function(answers) {
                    // Generate results/report
                    displayResults(answers);
                }
            });

            // Results display function
            function displayResults(answers) {
                const resultsModal = document.createElement('div');
                resultsModal.className = 'modal fade';
                resultsModal.innerHTML = `
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header" style="background-color: #2d4a2b; color: #faf9f6;">
                                <h5 class="modal-title">Impact Assessment Results</h5>
                                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                            </div>
                            <div class="modal-body">
                                <h6 class="fw-bold mb-3" style="color: #2d4a2b;">Assessment Summary</h6>
                                <p class="mb-4">${answers['impact-summary'] || 'No summary provided'}</p>

                                <h6 class="fw-bold mb-3" style="color: #2d4a2b;">Conclusion</h6>
                                <p class="mb-3">${getImpactConclusion(answers['impact-conclusion'])}</p>

                                <div class="alert alert-info">
                                    <strong>Next Steps:</strong> Save these results and proceed with the next assessment tools in the framework.
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-modern-secondary" data-bs-dismiss="modal">Close</button>
                                <button type="button" class="btn btn-modern-primary" onclick="exportResults()">Export as PDF</button>
                            </div>
                        </div>
                    </div>
                `;
                document.body.appendChild(resultsModal);
                const modal = new bootstrap.Modal(resultsModal);
                modal.show();
            }

            function getImpactConclusion(value) {
                const conclusions = {
                    'approved': 'All impacts adequately considered and mitigated - project can proceed',
                    'conditional': 'Project can proceed with additional safeguards and monitoring',
                    'revision': 'Significant concerns identified - project requires revision',
                    'rejected': 'Unacceptable risks or impacts - project should not proceed'
                };
                return conclusions[value] || 'Not assessed';
            }

            // Export function placeholder
            window.exportResults = function() {
                alert('Export functionality would generate a PDF report here. This feature requires additional implementation.');
            };
        });
    </script>

    <!-- OpenAI ChatKit Chatbot -->
    <link rel="stylesheet" href="../assets/chatbot/chatbot.css">
    <script src="../assets/chatbot/chatkit.js" defer></script>
    <script src="../assets/chatbot/sloth-avatar.js"></script>
    <script src="../assets/chatbot/chatbot.js"></script>
</body>
</html>
