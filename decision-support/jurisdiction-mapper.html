<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- SynD-DGF Unified Design System - Forest Canopy Theme -->
<link rel="stylesheet" href="../assets/css/synd-design-system.css">

<!-- Lucide Icons -->
<script src="https://unpkg.com/lucide@latest"></script>

</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #6f42c1;">
        <div class="container">
            <a class="navbar-brand" href="../index.html">SynD-DGF</a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="../index.html">Home</a>
                <a class="nav-link" href="../framework.html">Framework</a>
                <a class="nav-link" href="../assessment-tools.html">Assessment Tools</a>
                <a class="nav-link active" href="../decision-support.html">Decision Support</a>
                <a class="nav-link" href="../resources.html">Resources</a>
            </div>
        </div>
    </nav>

    <!-- Breadcrumb -->
    <div class="container mt-4">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="../index.html">Home</a></li>
                <li class="breadcrumb-item"><a href="../framework.html">Framework Overview</a></li>
                <li class="breadcrumb-item"><a href="../decision-support.html">Decision Support</a></li>
                <li class="breadcrumb-item active" aria-current="page">Jurisdiction Mapper</li>
            </ol>
        </nav>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-md-12">

                <div class="tool-header">
                    <h1>Jurisdiction mapper</h1>
                    <p class="tool-description">Navigate the complex landscape of Australian privacy laws, health data regulations, and compliance requirements. This interactive tool helps identify which legal frameworks apply to your synthetic data project based on your organisation, data sources, and intended use.</p>
                </div>

                <div class="tool-interface">
                    <form id="jurisdictionForm" class="jurisdiction-form">
                        <div class="form-section" data-component-theme="portalThemeColorBlue">
                            <h2>Organisation details</h2>
                            <p>Information about your organisation helps determine applicable regulatory frameworks.</p>
                            
                            <div class="form-group">
                                <label for="orgType">Organisation type</label>
                                <select id="orgType" name="orgType" class="form-control" required>
                                    <option value="">Select organisation type...</option>
                                    <option value="commonwealth-agency">Commonwealth Government Agency</option>
                                    <option value="state-agency">State/Territory Government Agency</option>
                                    <option value="public-hospital">Public Hospital or Health Service</option>
                                    <option value="private-hospital">Private Hospital or Health Service</option>
                                    <option value="university">University or Research Institution</option>
                                    <option value="private-company">Private Company (≥$3M turnover)</option>
                                    <option value="small-business">Small Business (<$3M turnover)</option>
                                    <option value="ngo">Non-Government Organisation</option>
                                    <option value="accho">Aboriginal Community Controlled Health Organisation</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="primaryJurisdiction">Primary operating jurisdiction</label>
                                <select id="primaryJurisdiction" name="primaryJurisdiction" class="form-control" required>
                                    <option value="">Select jurisdiction...</option>
                                    <option value="commonwealth">Commonwealth/National</option>
                                    <option value="act">Australian Capital Territory</option>
                                    <option value="nsw">New South Wales</option>
                                    <option value="nt">Northern Territory</option>
                                    <option value="qld">Queensland</option>
                                    <option value="sa">South Australia</option>
                                    <option value="tas">Tasmania</option>
                                    <option value="vic">Victoria</option>
                                    <option value="wa">Western Australia</option>
                                    <option value="multiple">Multiple jurisdictions</option>
                                </select>
                            </div>

                            <div id="multipleJurisdictions" style="display: none;">
                                <label>Additional jurisdictions (select all that apply)</label>
                                <div class="checkbox-group">
                                    <label><input type="checkbox" name="additionalJurisdictions" value="act"> Australian Capital Territory</label>
                                    <label><input type="checkbox" name="additionalJurisdictions" value="nsw"> New South Wales</label>
                                    <label><input type="checkbox" name="additionalJurisdictions" value="nt"> Northern Territory</label>
                                    <label><input type="checkbox" name="additionalJurisdictions" value="qld"> Queensland</label>
                                    <label><input type="checkbox" name="additionalJurisdictions" value="sa"> South Australia</label>
                                    <label><input type="checkbox" name="additionalJurisdictions" value="tas"> Tasmania</label>
                                    <label><input type="checkbox" name="additionalJurisdictions" value="vic"> Victoria</label>
                                    <label><input type="checkbox" name="additionalJurisdictions" value="wa"> Western Australia</label>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="orgSector">Health sector involvement</label>
                                <select id="orgSector" name="orgSector" class="form-control" required>
                                    <option value="">Select sector...</option>
                                    <option value="public-health">Public health system</option>
                                    <option value="private-health">Private health system</option>
                                    <option value="mixed">Both public and private</option>
                                    <option value="research-only">Research/academic (not direct care)</option>
                                    <option value="industry">Health technology/industry</option>
                                    <option value="government">Government/policy</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-section" data-component-theme="portalThemeColorGreen">
                            <h2>Data characteristics</h2>
                            <p>The type and source of data affects which regulations and compliance requirements apply.</p>
                            
                            <div class="form-group">
                                <label>Data sources (select all that apply)</label>
                                <div class="checkbox-group">
                                    <label><input type="checkbox" name="dataSources" value="hospital-records"> Hospital or health service records</label>
                                    <label><input type="checkbox" name="dataSources" value="gp-records"> General practice records</label>
                                    <label><input type="checkbox" name="dataSources" value="pathology"> Pathology and laboratory data</label>
                                    <label><input type="checkbox" name="dataSources" value="imaging"> Medical imaging data</label>
                                    <label><input type="checkbox" name="dataSources" value="pharmacy"> Pharmacy and prescription data</label>
                                    <label><input type="checkbox" name="dataSources" value="administrative"> Health administrative data</label>
                                    <label><input type="checkbox" name="dataSources" value="claims"> Insurance or claims data</label>
                                    <label><input type="checkbox" name="dataSources" value="research"> Research study data</label>
                                    <label><input type="checkbox" name="dataSources" value="registry"> Disease or health registry data</label>
                                    <label><input type="checkbox" name="dataSources" value="surveillance"> Public health surveillance data</label>
                                    <label><input type="checkbox" name="dataSources" value="indigenous"> Indigenous health data</label>
                                    <label><input type="checkbox" name="dataSources" value="linked"> Linked datasets</label>
                                    <label><input type="checkbox" name="dataSources" value="other"> Other sources</label>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Special categories of data (select all that apply)</label>
                                <div class="checkbox-group">
                                    <label><input type="checkbox" name="specialData" value="genetic"> Genetic or genomic data</label>
                                    <label><input type="checkbox" name="specialData" value="mental-health"> Mental health information</label>
                                    <label><input type="checkbox" name="specialData" value="reproductive"> Reproductive health data</label>
                                    <label><input type="checkbox" name="specialData" value="substance"> Substance use information</label>
                                    <label><input type="checkbox" name="specialData" value="disability"> Disability-related data</label>
                                    <label><input type="checkbox" name="specialData" value="minors"> Data about minors (under 18)</label>
                                    <label><input type="checkbox" name="specialData" value="vulnerable"> Data about vulnerable populations</label>
                                    <label><input type="checkbox" name="specialData" value="criminal"> Criminal justice health data</label>
                                    <label><input type="checkbox" name="specialData" value="none"> None of the above</label>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="dataTimeframe">Data collection timeframe</label>
                                <select id="dataTimeframe" name="dataTimeframe" class="form-control" required>
                                    <option value="">Select timeframe...</option>
                                    <option value="historical">Historical data only (no new collection)</option>
                                    <option value="ongoing">Ongoing data collection</option>
                                    <option value="prospective">New/prospective data collection</option>
                                    <option value="mixed">Mixed timeframes</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-section" data-component-theme="portalThemeColorOrange">
                            <h2>Intended use and sharing</h2>
                            <p>How you plan to use and share synthetic data affects regulatory requirements and compliance obligations.</p>
                            
                            <div class="form-group">
                                <label>Primary use purposes (select all that apply)</label>
                                <div class="checkbox-group">
                                    <label><input type="checkbox" name="usePurposes" value="clinical-research"> Clinical research and trials</label>
                                    <label><input type="checkbox" name="usePurposes" value="health-services"> Health services research</label>
                                    <label><input type="checkbox" name="usePurposes" value="policy-analysis"> Health policy analysis</label>
                                    <label><input type="checkbox" name="usePurposes" value="quality-improvement"> Quality improvement activities</label>
                                    <label><input type="checkbox" name="usePurposes" value="system-planning"> Health system planning</label>
                                    <label><input type="checkbox" name="usePurposes" value="algorithm-development"> Algorithm or AI development</label>
                                    <label><input type="checkbox" name="usePurposes" value="education-training"> Education and training</label>
                                    <label><input type="checkbox" name="usePurposes" value="benchmarking"> Performance benchmarking</label>
                                    <label><input type="checkbox" name="usePurposes" value="commercial"> Commercial product development</label>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="dataSharing">Data sharing arrangements</label>
                                <select id="dataSharing" name="dataSharing" class="form-control" required>
                                    <option value="">Select sharing arrangement...</option>
                                    <option value="internal-only">Internal use only (within organisation)</option>
                                    <option value="research-collaboration">Research collaboration (with other institutions)</option>
                                    <option value="government-sharing">Sharing with government agencies</option>
                                    <option value="industry-partnership">Industry partnerships</option>
                                    <option value="public-release">Public data release</option>
                                    <option value="international">International collaboration</option>
                                    <option value="multiple">Multiple sharing arrangements</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="commercialUse">Commercial considerations</label>
                                <select id="commercialUse" name="commercialUse" class="form-control" required>
                                    <option value="">Select commercial status...</option>
                                    <option value="non-commercial">Purely non-commercial/academic use</option>
                                    <option value="indirect-commercial">Potential indirect commercial benefit</option>
                                    <option value="direct-commercial">Direct commercial application</option>
                                    <option value="mixed">Mixed commercial and non-commercial</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-section" data-component-theme="portalThemeColorPurple">
                            <h2>Compliance context</h2>
                            <p>Additional factors that may affect regulatory compliance requirements.</p>
                            
                            <div class="form-group">
                                <label>Existing approvals and compliance measures (select all that apply)</label>
                                <div class="checkbox-group">
                                    <label><input type="checkbox" name="existingApprovals" value="hrec"> Human Research Ethics Committee approval</label>
                                    <label><input type="checkbox" name="existingApprovals" value="site-approval"> Site-specific governance approvals</label>
                                    <label><input type="checkbox" name="existingApprovals" value="data-custodian"> Data custodian agreements</label>
                                    <label><input type="checkbox" name="existingApprovals" value="pia"> Privacy Impact Assessment completed</label>
                                    <label><input type="checkbox" name="existingApprovals" value="indigenous-consultation"> Indigenous community consultation</label>
                                    <label><input type="checkbox" name="existingApprovals" value="international-approval"> International ethics/regulatory approval</label>
                                    <label><input type="checkbox" name="existingApprovals" value="none"> None currently in place</label>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="urgency">Project urgency</label>
                                <select id="urgency" name="urgency" class="form-control" required>
                                    <option value="">Select urgency level...</option>
                                    <option value="routine">Routine - standard compliance timeframes acceptable</option>
                                    <option value="priority">Priority - expedited processing preferred</option>
                                    <option value="urgent">Urgent - public health or emergency context</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="riskTolerance">Organisational risk tolerance</label>
                                <select id="riskTolerance" name="riskTolerance" class="form-control" required>
                                    <option value="">Select risk tolerance...</option>
                                    <option value="conservative">Conservative - prefer certainty and full compliance</option>
                                    <option value="balanced">Balanced - manage reasonable risks appropriately</option>
                                    <option value="innovative">Innovative - willing to navigate emerging legal areas</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="button" id="generateMapping" class="button1">Generate Jurisdiction Mapping</button>
                            <button type="button" id="resetForm" class="button2">Reset Form</button>
                        </div>
                    </form>

                    <div id="mappingResults" class="mapping-results" style="display: none;">
                        <div class="results-header">
                            <h2>Your jurisdiction mapping results</h2>
                            <p>Based on your responses, here are the key legal frameworks, compliance requirements, and next steps for your synthetic data project.</p>
                        </div>
                        
                        <div id="resultsContent" class="results-content"></div>
                        
                        <div class="results-actions">
                            <button type="button" id="exportMapping" class="button1">Export Mapping Report</button>
                            <button type="button" id="saveMapping" class="button1">Save for Later</button>
                            <button type="button" id="newMapping" class="button2">Create New Mapping</button>
                        </div>
                    </div>
                </div>

                <div class="tool-guidance">
                    <h2>Using the jurisdiction mapper</h2>
                    <div class="guidance-content">
                        <div class="guidance-section">
                            <h3>What this tool provides</h3>
                            <ul>
                                <li>Identification of applicable Australian privacy laws and health data regulations</li>
                                <li>Jurisdiction-specific compliance requirements and considerations</li>
                                <li>Recommended approval processes and governance pathways</li>
                                <li>Key contacts and resources for each identified regulatory framework</li>
                                <li>Priority actions and timelines for compliance planning</li>
                            </ul>
                        </div>
                        
                        <div class="guidance-section">
                            <h3>Important limitations</h3>
                            <ul>
                                <li>This tool provides guidance only - not legal advice</li>
                                <li>Regulatory landscapes evolve - verify current requirements</li>
                                <li>Complex scenarios may require expert consultation</li>
                                <li>Some industry-specific regulations may not be covered</li>
                                <li>International considerations require additional assessment</li>
                            </ul>
                        </div>
                        
                        <div class="guidance-section">
                            <h3>Next steps after mapping</h3>
                            <ul>
                                <li>Review detailed guidance for each identified legal framework</li>
                                <li>Consult with legal and privacy experts as recommended</li>
                                <li>Engage with relevant regulatory bodies early in planning</li>
                                <li>Develop comprehensive compliance timeline and checklist</li>
                                <li>Consider using other SynD-DGF tools for detailed assessments</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="related-tools">
                    <h2>Related decision support tools</h2>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="tool-card">
                                <h3><a href="legal-pathways-wizard.html">Legal Pathways Wizard</a></h3>
                                <p>Step-by-step guidance through specific legal compliance pathways identified in your jurisdiction mapping.</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="tool-card">
                                <h3><a href="risk-mitigation-planner.html">Risk Mitigation Planner</a></h3>
                                <p>Develop comprehensive plans to address regulatory and privacy risks identified in your mapping.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tool-navigation">
                    <div class="nav-buttons">
                        <a href="../decision-support.html" class="nav-button nav-previous">← Decision Support Overview</a>
                        <a href="legal-pathways-wizard.html" class="nav-button nav-next">Legal Pathways Wizard →</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Show/hide additional jurisdictions based on selection
        document.getElementById('primaryJurisdiction').addEventListener('change', function() {
            const multipleDiv = document.getElementById('multipleJurisdictions');
            if (this.value === 'multiple') {
                multipleDiv.style.display = 'block';
            } else {
                multipleDiv.style.display = 'none';
            }
        });
        
        // Generate mapping functionality
        document.getElementById('generateMapping').addEventListener('click', function() {
            const form = document.getElementById('jurisdictionForm');
            const results = document.getElementById('mappingResults');
            
            // Basic validation
            if (form.checkValidity()) {
                results.style.display = 'block';
                results.scrollIntoView({ behavior: 'smooth' });
                
                // Placeholder results content
                document.getElementById('resultsContent').innerHTML = `
                    <div class="alert alert-info">
                        <h4>Mapping Results</h4>
                        <p>Your jurisdiction mapping has been generated based on your responses. This is a placeholder - full functionality would show detailed compliance requirements, applicable laws, and next steps.</p>
                    </div>
                `;
            } else {
                form.reportValidity();
            }
        });
        
        // Reset form functionality
        document.getElementById('resetForm').addEventListener('click', function() {
            document.getElementById('jurisdictionForm').reset();
            document.getElementById('mappingResults').style.display = 'none';
            document.getElementById('multipleJurisdictions').style.display = 'none';
        });
        
        // Placeholder functions for other buttons
        document.getElementById('exportMapping')?.addEventListener('click', function() {
            console.log('Export mapping functionality to be implemented');
        });
        
        document.getElementById('saveMapping')?.addEventListener('click', function() {
            console.log('Save mapping functionality to be implemented');
        });
        
        document.getElementById('newMapping')?.addEventListener('click', function() {
            document.getElementById('resetForm').click();
        });
    </script>

    <!-- OpenAI ChatKit Chatbot -->
    <link rel="stylesheet" href="../assets/chatbot/chatbot.css">
    <script src="../assets/chatbot/chatkit.js" defer></script>
    <script src="../assets/chatbot/sloth-avatar.js"></script>
    <script src="../assets/chatbot/chatbot.js"></script>
</body>
</html>
