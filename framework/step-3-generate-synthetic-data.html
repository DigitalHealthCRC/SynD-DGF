<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- SynD-DGF Unified Design System - Forest Canopy Theme -->
<link rel="stylesheet" href="../assets/css/synd-design-system.css">
<link rel="stylesheet" href="../assets/css/synd-additional-components.css">

<!-- Lucide Icons -->
<script src="https://unpkg.com/lucide@latest"></script>

</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark" >
        <div class="container">
            <a class="navbar-brand" href="../index.html">SynD-DGF</a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="../index.html">Home</a>
                <a class="nav-link" href="../framework.html">Framework</a>
                <a class="nav-link" href="../assessment-tools.html">Assessment Tools</a>
                <a class="nav-link" href="../decision-support.html">Decision Support</a>
                <a class="nav-link" href="../resources.html">Resources</a>
            </div>
        </div>
    </nav>

    <!-- Enhanced Breadcrumbs with Framework Context -->
<nav class="enhanced-breadcrumbs" aria-label="Breadcrumb navigation">
  <div class="breadcrumb-container">

    <!-- Standard Breadcrumbs -->
    <ol class="breadcrumb-list">
      <li class="breadcrumb-item">
        <a href="/" class="breadcrumb-link">
          <span class="breadcrumb-icon"></span>
          <span class="breadcrumb-text">Home</span>
        </a>
      </li>

      <!-- Dynamic breadcrumbs will be inserted here by JavaScript -->
      <li class="breadcrumb-item current" id="current-page">
        <span class="breadcrumb-text">Step 3: Generate Synthetic Data</span>
      </li>
    </ol>

    <!-- Framework Step Context -->
    <div class="framework-context" id="framework-context" style="display: none;">
      <div class="context-header">
        <span class="context-icon"></span>
        <span class="context-title">Framework Step</span>
      </div>
      <div class="step-progress">
        <div class="step-indicator" data-step="1">
          <span class="step-number">1</span>
          <span class="step-name">Use Case</span>
        </div>
        <div class="step-indicator" data-step="2">
          <span class="step-number">2</span>
          <span class="step-name">Source Data</span>
        </div>
        <div class="step-indicator" data-step="3">
          <span class="step-number">3</span>
          <span class="step-name">Generate Data</span>
        </div>
        <div class="step-indicator" data-step="4">
          <span class="step-number">4</span>
          <span class="step-name">Risk Assessment</span>
        </div>
        <div class="step-indicator" data-step="5">
          <span class="step-number">5</span>
          <span class="step-name">Risk Management</span>
        </div>
      </div>
    </div>

  </div>
</nav>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const currentPath = window.location.pathname;
    const breadcrumbList = document.querySelector('.breadcrumb-list');
    const currentPageItem = document.getElementById('current-page');
    const frameworkContext = document.getElementById('framework-context');

    // Framework step mapping
    const frameworkSteps = {
        '/framework-overview': { section: 'framework', step: 0, title: 'Framework Overview' },
        '/step-1-use-case-assessment': { section: 'framework', step: 1, title: 'Step 1: Assess Use Case' },
        '/step-2-assess-source-data': { section: 'framework', step: 2, title: 'Step 2: Assess Source Data' },
        '/step-3-generate-synthetic-data': { section: 'framework', step: 3, title: 'Step 3: Generate Synthetic Data' },
        '/step-4-assess-reidentification-risks': { section: 'framework', step: 4, title: 'Step 4: Assess Re-identification Risks' },
        '/step-5-manage-residual-risks': { section: 'framework', step: 5, title: 'Step 5: Manage Residual Risks' }
    };

    function buildBreadcrumbs() {
        // For Step 3 page specifically
        const breadcrumbs = [{
            url: '/framework-overview',
            text: 'Framework',
            icon: ''
        }];

        const stepInfo = frameworkSteps['/step-3-generate-synthetic-data'];
        if (stepInfo) {
            showFrameworkContext(stepInfo.step);
        }

        insertBreadcrumbs(breadcrumbs);
    }

    function insertBreadcrumbs(breadcrumbs) {
        // Remove existing dynamic breadcrumbs
        const existingBreadcrumbs = breadcrumbList.querySelectorAll('.dynamic-breadcrumb');
        existingBreadcrumbs.forEach(item => item.remove());

        // Insert new breadcrumbs before current page
        breadcrumbs.forEach((crumb) => {
            const breadcrumbItem = createBreadcrumbItem(crumb);
            breadcrumbList.insertBefore(breadcrumbItem, currentPageItem);
        });
    }

    function createBreadcrumbItem(crumb) {
        const li = document.createElement('li');
        li.className = 'breadcrumb-item dynamic-breadcrumb';

        const link = document.createElement('a');
        link.href = crumb.url;
        link.className = 'breadcrumb-link';

        const icon = document.createElement('span');
        icon.className = 'breadcrumb-icon';
        icon.textContent = crumb.icon;

        const text = document.createElement('span');
        text.className = 'breadcrumb-text';
        text.textContent = crumb.text;

        link.appendChild(icon);
        link.appendChild(text);
        li.appendChild(link);

        return li;
    }

    function showFrameworkContext(currentStep) {
        frameworkContext.style.display = 'block';

        // Update step indicators
        const stepIndicators = frameworkContext.querySelectorAll('.step-indicator');
        stepIndicators.forEach((indicator, index) => {
            const stepNumber = index + 1;
            indicator.classList.remove('completed', 'current', 'upcoming');

            if (stepNumber < currentStep) {
                indicator.classList.add('completed');
            } else if (stepNumber === currentStep) {
                indicator.classList.add('current');
            } else {
                indicator.classList.add('upcoming');
            }
        });
    }

    // Initialize breadcrumbs
    buildBreadcrumbs();
});
</script>

    <div class="container">
        <div class="row">
            <div class="col-md-12">

                <h1>Step 3: Generate synthetic data</h1>
                
                <div class="step-intro">
                    <p class="lead">Selecting the right generative model and configuring it appropriately is crucial for creating synthetic data that maintains utility whilst protecting individual privacy.</p>
                    <div class="step-objectives">
                        <h2>Step objectives</h2>
                        <ul>
                            <li>Select an appropriate generative model for your data type and use case</li>
                            <li>Configure model parameters to balance utility and privacy</li>
                            <li>Generate synthetic datasets that preserve statistical properties</li>
                            <li>Document the generation process and model configuration</li>
                            <li>Ensure secure handling and storage of both models and generated data</li>
                        </ul>
                    </div>
                </div>

                <div class="model-selection content-section-card">
                    <h2>Selecting a generative model</h2>
                    <p>The choice of generative model depends on your data characteristics, technical capabilities, and privacy requirements:</p>

                    <div class="model-types">
                        <div class="model-card" data-component-theme="portalThemeColorBlue">
                            <div class="model-header">
                                <h3>Rule-based approaches</h3>
                                <div class="complexity-indicator">
                                    <span class="complexity-level low">Low complexity</span>
                                </div>
                            </div>
                            <div class="model-content">
                                <p><strong>Description:</strong> Generate synthetic data using predefined business rules and statistical distributions derived from the source data.</p>
                                
                                <div class="model-details">
                                    <h4>When to use</h4>
                                    <ul>
                                        <li>Simple tabular data with well-understood relationships</li>
                                        <li>Limited technical expertise available</li>
                                        <li>Need for transparent and explainable generation process</li>
                                        <li>Small to medium datasets (up to ~10,000 records)</li>
                                    </ul>

                                    <h4>Advantages</h4>
                                    <ul>
                                        <li>Easy to understand and implement</li>
                                        <li>Full control over generation logic</li>
                                        <li>Lower computational requirements</li>
                                        <li>Deterministic and reproducible results</li>
                                    </ul>

                                    <h4>Limitations</h4>
                                    <ul>
                                        <li>May not capture complex statistical relationships</li>
                                        <li>Requires manual specification of all rules</li>
                                        <li>Limited ability to handle high-dimensional data</li>
                                        <li>May produce unrealistic edge cases</li>
                                    </ul>

                                    <h4>Example techniques</h4>
                                    <ul>
                                        <li>Random sampling from empirical distributions</li>
                                        <li>Conditional probability tables</li>
                                        <li>Decision tree-based generation</li>
                                        <li>Template-based synthetic record creation</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="model-card" data-component-theme="portalThemeColorGreen">
                            <div class="model-header">
                                <h3>Statistical models</h3>
                                <div class="complexity-indicator">
                                    <span class="complexity-level medium">Medium complexity</span>
                                </div>
                            </div>
                            <div class="model-content">
                                <p><strong>Description:</strong> Use established statistical methods to model data distributions and relationships, then sample from these models to generate synthetic records.</p>
                                
                                <div class="model-details">
                                    <h4>When to use</h4>
                                    <ul>
                                        <li>Moderate to complex tabular data</li>
                                        <li>Some statistical expertise available</li>
                                        <li>Need to preserve specific statistical properties</li>
                                        <li>Medium to large datasets (1,000 to 100,000+ records)</li>
                                    </ul>

                                    <h4>Advantages</h4>
                                    <ul>
                                        <li>Well-established theoretical foundation</li>
                                        <li>Good preservation of statistical relationships</li>
                                        <li>Interpretable model parameters</li>
                                        <li>Established privacy analysis methods</li>
                                    </ul>

                                    <h4>Limitations</h4>
                                    <ul>
                                        <li>May struggle with very high-dimensional data</li>
                                        <li>Requires assumptions about data distributions</li>
                                        <li>Limited handling of complex non-linear relationships</li>
                                        <li>May need manual feature engineering</li>
                                    </ul>

                                    <h4>Example techniques</h4>
                                    <ul>
                                        <li>Gaussian mixture models</li>
                                        <li>Bayesian networks</li>
                                        <li>Copula-based models</li>
                                        <li>CART (Classification and Regression Trees)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="model-card" data-component-theme="portalThemeColorOrange">
                            <div class="model-header">
                                <h3>Machine learning models</h3>
                                <div class="complexity-indicator">
                                    <span class="complexity-level high">High complexity</span>
                                </div>
                            </div>
                            <div class="model-content">
                                <p><strong>Description:</strong> Advanced neural network and deep learning approaches that can capture complex patterns and generate high-fidelity synthetic data.</p>
                                
                                <div class="model-details">
                                    <h4>When to use</h4>
                                    <ul>
                                        <li>Large, complex datasets with intricate relationships</li>
                                        <li>High-dimensional data (many variables)</li>
                                        <li>Experienced data science team available</li>
                                        <li>Large datasets (10,000+ records) for training</li>
                                    </ul>

                                    <h4>Advantages</h4>
                                    <ul>
                                        <li>Can capture very complex statistical patterns</li>
                                        <li>Handles high-dimensional data well</li>
                                        <li>Automatically learns feature relationships</li>
                                        <li>State-of-the-art synthetic data quality</li>
                                    </ul>

                                    <h4>Limitations</h4>
                                    <ul>
                                        <li>Requires significant computational resources</li>
                                        <li>Complex to implement and tune</li>
                                        <li>Less interpretable ("black box" models)</li>
                                        <li>More difficult privacy risk assessment</li>
                                    </ul>

                                    <h4>Example techniques</h4>
                                    <ul>
                                        <li>Generative Adversarial Networks (GANs)</li>
                                        <li>Variational Autoencoders (VAEs)</li>
                                        <li>Transformer-based models</li>
                                        <li>Diffusion models</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="model-configuration content-section-card">
                    <h2>Model configuration and training</h2>
                    <p>Proper configuration is essential for generating high-quality synthetic data whilst managing privacy risks:</p>

                    <div class="configuration-sections">
                        <div class="config-section">
                            <h3>Privacy-preserving parameters</h3>
                            <div class="config-content">
                                <p>Configure your model to prioritise privacy protection:</p>
                                <ul>
                                    <li><strong>Differential privacy:</strong> Add calibrated noise during training to provide formal privacy guarantees</li>
                                    <li><strong>Training data sampling:</strong> Use subsets of training data to reduce memorisation risk</li>
                                    <li><strong>Model regularisation:</strong> Apply techniques to prevent overfitting to individual records</li>
                                    <li><strong>Early stopping:</strong> Stop training before the model memorises training examples</li>
                                    <li><strong>Limited model complexity:</strong> Use simpler models that generalise better</li>
                                </ul>
                            </div>
                        </div>

                        <div class="config-section">
                            <h3>Quality preservation parameters</h3>
                            <div class="config-content">
                                <p>Ensure synthetic data maintains utility for your intended use case:</p>
                                <ul>
                                    <li><strong>Statistical fidelity:</strong> Configure models to preserve key statistical properties</li>
                                    <li><strong>Correlation preservation:</strong> Maintain important relationships between variables</li>
                                    <li><strong>Distribution matching:</strong> Ensure synthetic data follows similar distributions to source data</li>
                                    <li><strong>Constraint enforcement:</strong> Apply business rules and data validation constraints</li>
                                    <li><strong>Temporal consistency:</strong> Preserve time-based patterns in longitudinal data</li>
                                </ul>
                            </div>
                        </div>

                        <div class="config-section">
                            <h3>Technical implementation</h3>
                            <div class="config-content">
                                <p>Key technical considerations for implementation:</p>
                                <ul>
                                    <li><strong>Computational resources:</strong> Ensure adequate processing power and memory</li>
                                    <li><strong>Training time:</strong> Allow sufficient time for model convergence</li>
                                    <li><strong>Hyperparameter tuning:</strong> Systematically optimise model parameters</li>
                                    <li><strong>Cross-validation:</strong> Use proper validation techniques to assess model performance</li>
                                    <li><strong>Reproducibility:</strong> Set random seeds and document all configuration choices</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="generation-process content-section-card">
                    <h2>Synthetic data generation process</h2>
                    <p>Follow these steps to generate your synthetic dataset:</p>

                    <div class="process-steps">
                        <div class="process-step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h3>Prepare training environment</h3>
                                <ul>
                                    <li>Set up secure computational environment with appropriate access controls</li>
                                    <li>Ensure training data is properly prepared and cleaned</li>
                                    <li>Implement logging and monitoring for the generation process</li>
                                    <li>Configure backup and recovery procedures</li>
                                </ul>
                            </div>
                        </div>

                        <div class="process-step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h3>Train generative model</h3>
                                <ul>
                                    <li>Load prepared source data with appropriate security measures</li>
                                    <li>Initialize model with configured parameters</li>
                                    <li>Train model whilst monitoring for convergence and overfitting</li>
                                    <li>Validate model performance using holdout datasets</li>
                                </ul>
                            </div>
                        </div>

                        <div class="process-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h3>Generate synthetic records</h3>
                                <ul>
                                    <li>Sample from trained model to create synthetic records</li>
                                    <li>Apply post-processing rules and constraints</li>
                                    <li>Validate generated records for quality and consistency</li>
                                    <li>Generate multiple synthetic datasets if needed for robustness testing</li>
                                </ul>
                            </div>
                        </div>

                        <div class="process-step">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <h3>Quality assessment</h3>
                                <ul>
                                    <li>Compare statistical properties of synthetic vs. source data</li>
                                    <li>Test synthetic data utility for intended analytical use cases</li>
                                    <li>Assess for any obvious quality issues or unrealistic values</li>
                                    <li>Document any limitations or known issues with generated data</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="documentation-requirements content-section-card">
                    <h2>Documentation and model management</h2>
                    <p>Comprehensive documentation is essential for reproducibility and governance:</p>

                    <div class="doc-requirements">
                        <div class="doc-category">
                            <h3>Model documentation</h3>
                            <ul>
                                <li><strong>Model type and architecture:</strong> Detailed description of the chosen generative approach</li>
                                <li><strong>Hyperparameters:</strong> All configuration settings and their rationale</li>
                                <li><strong>Training procedure:</strong> Step-by-step description of the training process</li>
                                <li><strong>Performance metrics:</strong> Validation results and quality assessments</li>
                                <li><strong>Known limitations:</strong> Any identified issues or constraints</li>
                            </ul>
                        </div>

                        <div class="doc-category">
                            <h3>Generation parameters</h3>
                            <ul>
                                <li><strong>Random seeds:</strong> All seeds used for reproducibility</li>
                                <li><strong>Sample size:</strong> Number of synthetic records generated and rationale</li>
                                <li><strong>Generation settings:</strong> Any specific parameters used during sampling</li>
                                <li><strong>Post-processing steps:</strong> Any transformations applied after generation</li>
                                <li><strong>Version control:</strong> Model versions and generation timestamps</li>
                            </ul>
                        </div>

                        <div class="doc-category">
                            <h3>Security and storage</h3>
                            <ul>
                                <li><strong>Model storage:</strong> Secure storage location and access controls</li>
                                <li><strong>Retention policy:</strong> How long models will be retained and disposal procedures</li>
                                <li><strong>Access logging:</strong> Records of who accessed models and when</li>
                                <li><strong>Backup procedures:</strong> Model backup and recovery processes</li>
                                <li><strong>Environment security:</strong> Security measures for training and generation environments</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="model-security content-section-card">
                    <h2>Model security considerations</h2>
                    <div class="security-alert">
                        <h3>⚠️ Important security requirements</h3>
                        <p>Trained models can potentially leak information about the source data and must be handled securely:</p>
                        
                        <div class="security-requirements">
                            <div class="security-item">
                                <h4>Secure model storage</h4>
                                <p>After synthetic data generation, trained models must be stored separately in a secure manner or destroyed:</p>
                                <ul>
                                    <li>Use encryption for model storage</li>
                                    <li>Implement strict access controls</li>
                                    <li>Store models separately from source and synthetic data</li>
                                    <li>Consider model destruction if not needed for future use</li>
                                </ul>
                            </div>

                            <div class="security-item">
                                <h4>Access management</h4>
                                <p>Control and monitor access to trained models:</p>
                                <ul>
                                    <li>Limit model access to authorised personnel only</li>
                                    <li>Log all model access and usage</li>
                                    <li>Regular review of access permissions</li>
                                    <li>Secure model transfer protocols if sharing is required</li>
                                </ul>
                            </div>

                            <div class="security-item">
                                <h4>Model disposal</h4>
                                <p>When models are no longer needed:</p>
                                <ul>
                                    <li>Securely delete model files from all storage locations</li>
                                    <li>Clear models from memory and temporary storage</li>
                                    <li>Document disposal procedures and timing</li>
                                    <li>Verify complete removal from backup systems</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="decision-criteria content-section-card">
                    <h2>Decision criteria for Step 3</h2>
                    <p>To proceed to Step 4, your synthetic data generation must meet these criteria:</p>
                    
                    <div class="criteria-checklist">
                        <div class="criteria-item">
                            <input type="checkbox" id="criteria1">
                            <label for="criteria1">Appropriate generative model selected based on data characteristics and capabilities</label>
                        </div>
                        <div class="criteria-item">
                            <input type="checkbox" id="criteria2">
                            <label for="criteria2">Model configured with privacy-preserving parameters</label>
                        </div>
                        <div class="criteria-item">
                            <input type="checkbox" id="criteria3">
                            <label for="criteria3">Synthetic data successfully generated with acceptable quality</label>
                        </div>
                        <div class="criteria-item">
                            <input type="checkbox" id="criteria4">
                            <label for="criteria4">Generation process comprehensively documented</label>
                        </div>
                        <div class="criteria-item">
                            <input type="checkbox" id="criteria5">
                            <label for="criteria5">Trained model securely stored or appropriately disposed of</label>
                        </div>
                        <div class="criteria-item">
                            <input type="checkbox" id="criteria6">
                            <label for="criteria6">Synthetic data preserves utility for intended use case whilst reducing privacy risks</label>
                        </div>
                    </div>

                    <div class="decision-outcome">
                        <div class="outcome-proceed">
                            <h3>✓ Proceed to Step 4</h3>
                            <p>Your synthetic data is ready for re-identification risk assessment. Continue to evaluate and mitigate privacy risks.</p>
                            <a href="step-4-assess-reidentification-risks.html" class="btn-modern-primary">Continue to Step 4</a>
                        </div>
                        <div class="outcome-review">
                            <h3>↻ Address issues before proceeding</h3>
                            <p>If any criteria are not met, address the following before proceeding:</p>
                            <ul>
                                <li><strong>Model selection issues:</strong> Reconsider model choice based on data characteristics and requirements</li>
                                <li><strong>Configuration problems:</strong> Adjust privacy and quality parameters</li>
                                <li><strong>Quality concerns:</strong> Retrain model or modify generation process</li>
                                <li><strong>Documentation gaps:</strong> Complete required technical documentation</li>
                                <li><strong>Security issues:</strong> Implement proper model storage and access controls</li>
                                <li><strong>Utility problems:</strong> Evaluate if synthetic data meets analytical requirements</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Content Tagging System Component -->
<div class="content-tagging-system" id="content-tagging-system">
  <div class="page-tags-section" id="page-tags">
    <div class="tags-header">
      <span class="tags-icon">️</span>
      <span class="tags-label">Content tags:</span>
    </div>
    <div class="tags-container" id="current-page-tags"></div>
  </div>
</div>

<!-- Cross-Reference Navigation Component -->
<nav class="cross-reference-nav" aria-label="Cross-reference navigation">
  <div class="cross-ref-container">
    <div class="cross-ref-section appendices-section" id="related-appendices">
      <div class="section-header">
        <span class="section-icon"></span>
        <h4 class="section-title">Related appendices</h4>
      </div>
      <div class="cross-ref-items" id="appendices-list"></div>
    </div>
    <div class="cross-ref-section tools-section" id="related-tools">
      <div class="section-header">
        <span class="section-icon">️</span>
        <h4 class="section-title">Recommended tools</h4>
      </div>
      <div class="cross-ref-items" id="tools-list"></div>
    </div>
    <div class="cross-ref-section next-steps-section" id="next-steps">
      <div class="section-header">
        <span class="section-icon">️</span>
        <h4 class="section-title">Next steps</h4>
      </div>
      <div class="cross-ref-items" id="next-steps-list"></div>
    </div>
    <div class="cross-ref-section related-pages-section" id="related-pages">
      <div class="section-header">
        <span class="section-icon"></span>
        <h4 class="section-title">Related pages</h4>
      </div>
      <div class="cross-ref-items" id="related-pages-list"></div>
    </div>
  </div>
</nav>

<!-- Related Resources Section Component -->
<section class="related-resources-section" aria-label="Related resources">
  <div class="related-resources-container">
    <div class="section-header">
      <h3 class="section-title">
        <span class="title-icon"></span>
        Related resources
      </h3>
      <p class="section-description">Discover additional resources relevant to this content</p>
    </div>
    <div class="resource-category quick-access" id="quick-access-resources">
      <div class="category-header">
        <span class="category-icon"></span>
        <h4 class="category-title">Quick access</h4>
      </div>
      <div class="resource-grid" id="quick-access-grid"></div>
    </div>
    <div class="resource-category documentation" id="documentation-resources">
      <div class="category-header">
        <span class="category-icon"></span>
        <h4 class="category-title">Documentation</h4>
      </div>
      <div class="resource-grid" id="documentation-grid"></div>
    </div>
    <div class="resource-category technical" id="technical-resources">
      <div class="category-header">
        <span class="category-icon"></span>
        <h4 class="category-title">Technical guidance</h4>
      </div>
      <div class="resource-grid" id="technical-grid"></div>
    </div>
  </div>
</section>

                <div class="common-scenarios">
                    <h2>Common scenarios and guidance</h2>
                    <div class="scenario-accordion">
                        <div class="scenario-item">
                            <button class="scenario-header" data-toggle="collapse" data-target="#scenario1">
                                <h3>Choosing between model complexity levels</h3>
                                <span class="toggle-icon">+</span>
                            </button>
                            <div id="scenario1" class="scenario-content collapse">
                                <p><strong>Situation:</strong> Uncertainty about whether to use simple rule-based, statistical, or machine learning approaches.</p>
                                <p><strong>Guidance:</strong></p>
                                <ul>
                                    <li>Start simple: Begin with rule-based or statistical models before moving to complex ML approaches</li>
                                    <li>Consider your team's technical expertise and available resources</li>
                                    <li>Evaluate data complexity - high-dimensional data may benefit from ML approaches</li>
                                    <li>Test utility preservation with simpler models first</li>
                                </ul>
                                <p><strong>Key consideration:</strong> More complex models aren't always better - choose the simplest approach that meets your needs.</p>
                            </div>
                        </div>

                        <div class="scenario-item">
                            <button class="scenario-header" data-toggle="collapse" data-target="#scenario2">
                                <h3>Balancing privacy and utility</h3>
                                <span class="toggle-icon">+</span>
                            </button>
                            <div id="scenario2" class="scenario-content collapse">
                                <p><strong>Situation:</strong> Difficulty finding the right balance between privacy protection and data utility.</p>
                                <p><strong>Guidance:</strong></p>
                                <ul>
                                    <li>Generate multiple synthetic datasets with different privacy parameters</li>
                                    <li>Test each dataset's utility for your specific analytical use cases</li>
                                    <li>Assess privacy risks using membership inference and other attacks</li>
                                    <li>Document the privacy-utility tradeoff for stakeholder review</li>
                                </ul>
                                <p><strong>Related tool:</strong> <a href="../tools/quality-metrics.html">Quality Metrics Tool</a> for utility assessment</p>
                            </div>
                        </div>

                        <div class="scenario-item">
                            <button class="scenario-header" data-toggle="collapse" data-target="#scenario3">
                                <h3>Using third-party generation tools</h3>
                                <span class="toggle-icon">+</span>
                            </button>
                            <div id="scenario3" class="scenario-content collapse">
                                <p><strong>Situation:</strong> Considering commercial or open-source synthetic data generation platforms.</p>
                                <p><strong>Guidance:</strong></p>
                                <ul>
                                    <li>Evaluate vendor security and privacy practices thoroughly</li>
                                    <li>Ensure you understand the generation methods and their privacy guarantees</li>
                                    <li>Retain ability to assess re-identification risks independently</li>
                                    <li>Document model configuration and generation parameters</li>
                                    <li>Consider data sovereignty requirements for cloud-based tools</li>
                                </ul>
                                <p><strong>Important:</strong> Using third-party tools doesn't eliminate your privacy assessment obligations.</p>
                            </div>
                        </div>

                        <div class="scenario-item">
                            <button class="scenario-header" data-toggle="collapse" data-target="#scenario4">
                                <h3>Longitudinal and time-series data</h3>
                                <span class="toggle-icon">+</span>
                            </button>
                            <div id="scenario4" class="scenario-content collapse">
                                <p><strong>Situation:</strong> Generating synthetic data that preserves temporal relationships and sequences.</p>
                                <p><strong>Guidance:</strong></p>
                                <ul>
                                    <li>Use specialised sequential generation models (e.g., RNNs, transformers)</li>
                                    <li>Ensure temporal consistency and realistic event sequences</li>
                                    <li>Consider additional privacy risks from temporal patterns</li>
                                    <li>Test that time-based analyses work correctly on synthetic data</li>
                                </ul>
                                <p><strong>Related resource:</strong> <a href="../resources/appendices/technical-assessment.html">Appendix 6: Technical Assessment</a> for temporal data considerations</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="step-navigation">
                    <div class="nav-buttons">
                        <a href="step-2-assess-source-data.html" class="nav-button nav-previous">← Step 2: Assess Source Data</a>
                        <a href="step-4-assess-reidentification-risks.html" class="nav-button nav-next">Step 4: Assess Re-identification Risks →</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
// Content Tagging System
document.addEventListener('DOMContentLoaded', function() {
    const contentTags = { pages: { '/step-3-generate-synthetic-data': { primary: ['step-3', 'generation', 'models'], secondary: ['privacy', 'utility', 'configuration'] } } };
    const pageTagsContainer = document.getElementById('current-page-tags');
    const pageTags = [...(contentTags.pages[window.location.pathname]?.primary || []), ...(contentTags.pages[window.location.pathname]?.secondary || [])];
    pageTags.forEach(tag => {
        const tagEl = document.createElement('span');
        tagEl.className = 'content-tag';
        tagEl.textContent = tag.split('-').map(w => w.charAt(0).toUpperCase() + w.slice(1)).join(' ');
        pageTagsContainer.appendChild(tagEl);
    });
});

// Cross-Reference Navigation
document.addEventListener('DOMContentLoaded', function() {
    const crossReferences = {
        '/step-3-generate-synthetic-data': {
            appendices: [
                { id: 6, title: 'Technical assessment', url: '/web-pages/../resources/appendices/technical-assessment.html', description: 'Model selection and validation guidance' },
                { id: 7, title: 'De-identification techniques', url: '/web-pages/../resources/appendices/deidentification-techniques.html', description: 'Privacy-preserving generation methods' }
            ],
            tools: [
                { title: 'Quality Metrics Tool', url: '/web-pages/../tools/quality-metrics.html', description: 'Assess synthetic data utility' }
            ],
            nextSteps: [
                { title: 'Step 4: Assess Re-identification Risks', url: '/web-pages/step-4-assess-reidentification-risks.html', description: 'Evaluate privacy risks in generated data' }
            ],
            relatedPages: [
                { title: 'Framework Overview', url: '/web-pages/../framework.html', description: 'Return to framework overview' }
            ]
        }
    };

    function populateSection(containerId, items, itemType) {
        const container = document.getElementById(containerId);
        if (!container || !items || items.length === 0) {
            if (container) container.parentElement.style.display = 'none';
            return;
        }
        items.forEach(item => {
            const div = document.createElement('div');
            div.className = `cross-ref-item ${itemType}-item`;
            div.innerHTML = `<a href="${item.url}" class="cross-ref-link">
                <span class="item-icon">${itemType === 'appendix' ? item.id : '️'}</span>
                <div class="item-content">
                    <span class="item-title">${item.title}</span>
                    <span class="item-description">${item.description}</span>
                </div>
            </a>`;
            container.appendChild(div);
        });
    }

    const pageRefs = crossReferences[window.location.pathname] || crossReferences['/step-3-generate-synthetic-data'];
    populateSection('appendices-list', pageRefs.appendices, 'appendix');
    populateSection('tools-list', pageRefs.tools, 'tool');
    populateSection('next-steps-list', pageRefs.nextSteps, 'next-step');
    populateSection('related-pages-list', pageRefs.relatedPages, 'page');
});

// Related Resources
document.addEventListener('DOMContentLoaded', function() {
    const resourceDatabase = {
        quickAccess: [
            { title: 'Framework overview', url: '/web-pages/../framework.html', description: 'Complete framework process guide', tags: ['framework', 'overview'] },
            { title: 'Assessment tools', url: '/web-pages/../assessment-tools.html', description: 'Interactive assessment tools', tags: ['tools', 'assessment'] }
        ],
        documentation: [
            { title: 'Technical assessment', url: '/web-pages/../resources/appendices/technical-assessment.html', description: 'Model selection guidance', tags: ['technical', 'models'] }
        ],
        technical: [
            { title: 'De-identification techniques', url: '/web-pages/../resources/appendices/deidentification-techniques.html', description: 'Privacy-preserving methods', tags: ['privacy', 'techniques'] }
        ]
    };

    function populateResourceCategory(gridId, resources) {
        const grid = document.getElementById(gridId);
        if (!grid || !resources || resources.length === 0) {
            if (grid) grid.parentElement.style.display = 'none';
            return;
        }
        resources.forEach(resource => {
            const card = document.createElement('div');
            card.className = 'resource-card';
            card.innerHTML = `<a href="${resource.url}" class="resource-link">
                <div class="resource-content">
                    <h5 class="resource-title">${resource.title}</h5>
                    <p class="resource-description">${resource.description}</p>
                    <div class="resource-tags">${resource.tags.map(tag => `<span class="resource-tag">${tag}</span>`).join('')}</div>
                </div>
                <div class="resource-arrow">→</div>
            </a>`;
            grid.appendChild(card);
        });
    }

    populateResourceCategory('quick-access-grid', resourceDatabase.quickAccess);
    populateResourceCategory('documentation-grid', resourceDatabase.documentation);
    populateResourceCategory('technical-grid', resourceDatabase.technical);
});

// Accordion functionality
document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('.scenario-header').forEach(header => {
        header.addEventListener('click', function() {
            const target = document.querySelector(this.getAttribute('data-target'));
            const icon = this.querySelector('.toggle-icon');
            if (target.classList.contains('show')) {
                target.classList.remove('show');
                icon.textContent = '+';
            } else {
                document.querySelectorAll('.scenario-content').forEach(sc => sc.classList.remove('show'));
                document.querySelectorAll('.toggle-icon').forEach(ti => ti.textContent = '+');
                target.classList.add('show');
                icon.textContent = '−';
            }
        });
    });
});
</script>

    <!-- OpenAI ChatKit Chatbot -->
    <link rel="stylesheet" href="../assets/chatbot/chatbot.css">
    <script src="https://cdn.platform.openai.com/deployments/chatkit/chatkit.js" async></script>
    <script src="../assets/chatbot/sloth-avatar.js"></script>
    <script src="../assets/chatbot/chatbot.js"></script>
</body>
</html>
